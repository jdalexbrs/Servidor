<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>GodestMC — Postulaciones</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
<style>
/* 🌌 Estilos base */
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:"Poppins",sans-serif;
  min-height:100vh;
  background:linear-gradient(135deg,#0f172a,#1e3a8a,#0ea5e9);
  background-size:400% 400%;
  animation:bgFlow 18s ease infinite;
  display:flex;justify-content:center;align-items:center;
  padding:20px;color:#f1f5f9;
}
@keyframes bgFlow{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}
.container{
  width:100%;max-width:800px;
  background:rgba(255,255,255,0.06);
  border-radius:20px;
  padding:30px;
  backdrop-filter:blur(18px);
  box-shadow:0 10px 40px rgba(0,0,0,.4);
  animation:fadeIn .8s ease;
}
@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:none}}
h1{text-align:center;font-weight:800;font-size:2rem;margin-bottom:20px;color:#fff;text-shadow:0 0 10px rgba(14,165,233,.6)}
.progress{height:10px;background:rgba(255,255,255,0.15);border-radius:999px;overflow:hidden;margin:10px 0 25px}
.progress i{display:block;height:100%;width:0%;background:linear-gradient(90deg,#0ea5e9,#38bdf8,#3b82f6);transition:width .6s cubic-bezier(.4,.0,.2,1)}
.step-card{display:none;animation:fadeIn .6s ease;}
.step-card.active{display:block;}
label{display:block;margin:14px 0 6px;font-size:.9rem;font-weight:600}
input,textarea,select{
  width:100%;padding:12px;
  border:none;border-radius:12px;
  background:rgba(255,255,255,0.1);
  color:#fff;font-size:1rem;
  outline:none;transition:.2s;
}
input:focus,textarea:focus,select:focus{
  background:rgba(255,255,255,0.2);box-shadow:0 0 0 2px #38bdf8;
}
textarea{min-height:90px;resize:vertical}
select{appearance:none}
select option{background:#0f172a;color:#f1f5f9}
.controls{margin-top:20px;display:flex;justify-content:space-between;gap:12px}
.btn{flex:1;background:linear-gradient(90deg,#3b82f6,#0ea5e9);padding:12px;border:none;border-radius:12px;color:#fff;font-weight:600;font-size:1rem;cursor:pointer;transition:.3s;box-shadow:0 6px 20px rgba(14,165,233,.4)}
.btn:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(14,165,233,.6)}
.btn.ghost{background:transparent;border:2px solid rgba(255,255,255,.3);box-shadow:none}
.btn.ghost:hover{background:rgba(255,255,255,.1)}
footer{margin-top:20px;text-align:center;font-size:.8rem;color:rgba(255,255,255,.6)}

/* 📱 Responsive */
@media (max-width: 600px) {
  h1 { font-size: 1.5rem; }
  .container { padding: 20px; }
  .controls { flex-direction: column; }
  .btn { width: 100%; }
}
</style>
</head>
<body>
<div class="container" id="mainContainer">
<h1>⚡ Postulaciones GodestMC</h1>
<div class="progress"><i id="bar"></i></div>
<div style="text-align:center;margin-bottom:15px">Sección <span id="currentStep">1</span> de 9</div>

<form id="applyForm">
  <!-- Paso 1 - Bienvenida mejorada -->
  <div class="step-card active" data-step="1">
    <div style="text-align:center; padding:20px;">
      <h2 style="font-size:1.8rem; font-weight:700; color:#38bdf8; margin-bottom:12px;">
        🌟 Bienvenido al Formulario Oficial de Postulación 🌟
      </h2>
      <p style="font-size:1.1rem; color:#e2e8f0; margin-bottom:16px;">
        ¿Quieres formar parte del <strong style="color:#3b82f6;">Staff Team de GodestMC</strong>?
      </p>
      <div style="background:rgba(255,255,255,0.08); border-radius:16px; padding:18px; text-align:left; box-shadow:0 6px 18px rgba(0,0,0,.3);">
        <p style="font-size:1rem; margin-bottom:10px; color:#f8fafc;">
          🔹 Este formulario es tu <strong style="color:#38bdf8;">carta de presentación</strong> ante el Staff.
        </p>
        <p style="font-size:1rem; margin-bottom:10px; color:#f8fafc;">
          🔹 Responde <strong style="color:#38bdf8;">con sinceridad y detalle</strong>.
        </p>
        <p style="font-size:1rem; color:#f8fafc;">
          🔹 ¡Haz que cada respuesta cuente 🚀!
        </p>
      </div>
    </div>
  </div>

  <!-- Paso 2 - Requisitos -->
  <div class="step-card" data-step="2">
    <p>📌 Antes de empezar asegúrate de cumplir:</p>
    <ul>
      <li>✅ Al menos 1 día en Discord o 2h jugadas.</li>
      <li>✅ No tener sanciones.</li>
      <li>✅ Tener 14 años mínimo.</li>
      <li>✅ Micrófono no obligatorio, pero suma puntos.</li>
    </ul>
  </div>

  <!-- Paso 3 - Info básica -->
  <div class="step-card" data-step="3">
    <label>Nick en Discord*</label>
    <input name="discord" required>
    <label>Nick en Minecraft*</label>
    <input name="mc" required>
    <label>¿Has sido staff/dev/beta previamente?*</label>
    <textarea name="exp" required></textarea>
  </div>

  <!-- Paso 4 - Disponibilidad -->
  <div class="step-card" data-step="4">
    <label>País y zona horaria*</label>
    <input name="country" required>
    <label>Horas semanales que puedes dedicar*</label>
    <input name="hours" required>
    <label>Días disponibles*</label>
    <textarea name="days" required></textarea>
  </div>

  <!-- Paso 5 - Rol -->
  <div class="step-card" data-step="5">
    <label>¿Rol al que te postulas?*</label>
    <select name="role" id="roleSelect" required>
      <option value="">— Selecciona —</option>
      <option value="staff">Staff</option>
      <option value="dev">Dev</option>
      <option value="beta">Beta Tester</option>
    </select>
  </div>

  <!-- Paso 6 - Staff -->
  <div class="step-card role staff" data-step="6">
    <label>En caso de que 2 usuarios se peleen, ¿qué harías?*</label>
    <textarea name="staff_conflict"></textarea>
    <label>Si un amigo rompe reglas, ¿cómo reaccionarías?*</label>
    <textarea name="staff_friend"></textarea>
    <label>Si asciendes a manager, ¿cómo sería tu comportamiento?*</label>
    <textarea name="staff_manager"></textarea>
    <label>¿Por qué deberíamos elegirte a ti?*</label>
    <textarea name="staff_why"></textarea>
    <label>¿Por qué quieres ser staff en Godest?*</label>
    <textarea name="staff_motive"></textarea>
    <label>¿Qué significa para ti ser staff en Godest?*</label>
    <textarea name="staff_meaning"></textarea>
    <label>Descríbete en pocas palabras*</label>
    <textarea name="staff_self"></textarea>
    <label>¿Respetarías las decisiones superiores aunque no estés de acuerdo?*</label>
    <textarea name="staff_respect"></textarea>
    <label>¿Qué harías para mejorar la comunidad?*</label>
    <textarea name="staff_improve"></textarea>
  </div>

  <!-- Paso 7 - Dev -->
  <div class="step-card role dev" data-step="7">
    <label>¿Qué lenguajes de programación dominas?*</label>
    <textarea name="dev_langs"></textarea>
    <label>¿Qué significa para ti ser staff en un servidor de Minecraft?*</label>
    <textarea name="dev_meaning"></textarea>
    <label>¿Sabes manejar eventos de Minecraft en código?*</label>
    <select name="dev_events">
      <option value="">Selecciona</option>
      <option>Sí</option>
      <option>No</option>
    </select>
    <label>¿Por qué quieres ser Dev en Godest?*</label>
    <textarea name="dev_motive"></textarea>
  </div>

  <!-- Paso 8 - Beta Tester -->
  <div class="step-card role beta" data-step="8">
    <label>¿Por qué quieres ser Beta Tester en Godest?*</label>
    <textarea name="beta_motive"></textarea>
    <label>¿Por qué deberíamos elegirte como tester?*</label>
    <textarea name="beta_why"></textarea>
    <label>¿Prefieres testear mecánicas o errores visuales? ¿Por qué?*</label>
    <textarea name="beta_pref"></textarea>
  </div>

  <!-- Paso 9 - Extra -->
  <div class="step-card" data-step="9">
    <label>¿Algo que añadir?*</label>
    <textarea name="extra" required></textarea>
    <p style="font-size:.9rem;color:#cbd5e1;margin-top:8px">
      Recuerda abrir un ticket en Discord: allí se harán las últimas pruebas.
    </p>
  </div>

  <div class="controls">
    <button type="button" id="prevBtn" class="btn ghost">Anterior</button>
    <button type="button" id="nextBtn" class="btn">Siguiente</button>
    <button type="submit" id="sendBtn" class="btn" style="display:none">Enviar</button>
  </div>
</form>
<footer>Creado con ❤️ por GodestMC</footer>
</div>

<script>
const webhookUrl = "https://discord.com/api/webhooks/XXXX/XXXX"; // 🔗 tu webhook

const form = document.getElementById("applyForm");
const steps = Array.from(document.querySelectorAll(".step-card"));
const bar = document.getElementById("bar");
const currentStepEl = document.getElementById("currentStep");
const prevBtn = document.getElementById("prevBtn");
const nextBtn = document.getElementById("nextBtn");
const sendBtn = document.getElementById("sendBtn");
const roleSelect = document.getElementById("roleSelect");

let stepIndex = 0;

function showStep(i){
  steps.forEach((s,idx)=>{
    if(s.classList.contains("role")){
      const role = roleSelect.value;
      s.classList.toggle("active", idx===i && s.classList.contains(role));
    }else{
      s.classList.toggle("active", idx===i);
    }
  });
  bar.style.width = ((i+1)/steps.length*100)+"%";
  currentStepEl.textContent = i+1;
  prevBtn.style.display = i===0?"none":"inline-block";
  nextBtn.style.display = i===steps.length-1?"none":"inline-block";
  sendBtn.style.display = i===steps.length-1?"inline-block":"none";
}

nextBtn.onclick=()=>{ if(stepIndex<steps.length-1){ stepIndex++; showStep(stepIndex); } };
prevBtn.onclick=()=>{ if(stepIndex>0){ stepIndex--; showStep(stepIndex); } };

form.onsubmit=async e=>{
  e.preventDefault();
  const fd = new FormData(form);
  const data = Object.fromEntries(fd.entries());

  const embed = {
    title:"📩 Nueva Postulación — GodestMC",
    color:0x0ea5e9,
    fields:Object.entries(data).map(([k,v])=>({name:k,value:v||"—"})),
    footer:{text:"GodestMC — Sistema de Postulación"},
    timestamp:new Date()
  };

  try{
    await fetch(webhookUrl,{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify({embeds:[embed]})
    });
    document.getElementById("mainContainer").innerHTML=`
      <div style="text-align:center;padding:40px">
        <h1>✅ Postulación enviada</h1>
        <p style="margin-top:12px;font-size:1.1rem;color:#e2e8f0">
          Recuerda abrir un ticket en el Discord, allí se te harán las últimas pruebas.
        </p>
      </div>
    `;
  }catch(err){
    alert("❌ Error al enviar: "+err);
  }
};

showStep(stepIndex);
</script>
</body>
</html>
